# System configuration file - TEMPLATE
# SBEMimage version 2021.08 dev
#
# DO NOT EDIT this file unless you know what you are doing!
# Comments refer to the key in the following line, with the format: explanation of the key; object in SBEMimage that manages it

[device]
# model name of SEM to be controlled; sem_control (read only)
sem = Unknown
# model name of microtome to be controlled; microtome_control (read only)
microtome = Unknown
# list of recognized SEM devices; sem_control (read only)
sem_recognized = ["ZEISS Merlin", "ZEISS Sigma", "ZEISS GeminiSEM", "ZEISS Ultra Plus", "ZEISS MultiSEM", "TESCAN MIRA", "TESCAN CLARA", "TESCAN MAGNA", "PHENOM Pharos", "Mock SEM"]
# list of recognized microtome/blockface-removal devices; microtome_control (read only)
microtome_recognized = ["Gatan 3View", "ConnectomX katana", "GCIB", "Mock Microtome"]
# serial port used by katana microtome; microtome_control
katana_com_port = COM1
# IP address for communication with SEM (if applicable)
sem_ip_address = 
# Port for communication with SEM (if applicable)
sem_port = 

[sem]
# all available beam current modes; sem_control (read only)
beam_current_modes = ["current", "apertures", "spotsize"]
# selected beam current mode; sem_control
beam_current_mode = "current"
# has high current mode; sem_control (read only)
has_high_current = False
# factor to calculate required magnification when given the target pixel size and frame size; sem_control (read only)
mag_px_size_factor = 114278400
# list of available store resolutions (= frame sizes, in pixel width x pixel height), currently for SmartSEM only; sem_control (read only)
store_res = [[1024, 768], [512, 384], [2048, 1536], [3072, 2304], [4096, 3072], [5120, 3840], [6144, 4608], [8192, 6144], [12288, 9216], [16384, 12288], [24576, 18432], [32768, 24576]]
# default index (= selector) for tile store resolution (= frame size, see above)
store_res_default_index_tile = 4
# default index for OV store resolution
store_res_default_index_ov = 2
# default index for stub OV store resolution
store_res_default_index_stub_ov = 0
# list of available dwell times in microseconds, currently for SmartSEM only; sem_control (read only)
dwell_time = [0.05, 0.1, 0.2, 0.4, 0.8, 1.6, 3.2, 6.4, 12.8]
# default index (= selector) for dwell time
dwell_time_default_index = 4
# list of available apertures in microns, currently for SmartSEM only; sem_control (read only)
aperture_size = [30.0, 7.5, 10.0, 15.0, 20.0, 60.0, 120.0]
# list of cycle times for a given frame size (dictionary key) and dwell time selectors (index for selected list), currently for SmartSEM only; sem_control (read only)
cycle_time = {"0": [0.085, 0.13, 0.21, 0.38, 0.71, 1.4, 2.7, 5.3, 10.3], "1": [0.044, 0.054, 0.075, 0.12, 0.20, 0.37, 0.70, 1.4, 2.6], "2": [0.23, 0.40, 0.73, 1.4, 2.7, 5.4, 10.5, 20.6, 40.7], "3": [0.46, 0.83, 1.6, 3.1, 6.1, 12.0, 23.3, 46.0, 90], "4": [0.77, 1.4, 2.8, 5.4, 10.8, 21.0, 41.1, 84, 162], "5": [0, 0, 0, 0, 0, 0, 0, 0, 0], "6": [1.6, 3.1, 6.1, 12.2, 23.9, 46.6, 90, 180, 366], "7": [4.4, 7.1, 12.4, 23.1, 43.5, 84, 162, 324, 648], "8": [8.6, 14.6, 26.6, 50.2, 96, 186, 366, 732, 1452], "9": [14.1, 24.8, 46.1, 90, 168, 330, 648, 1296, 2586], "10": [29.1, 53.2, 102, 192, 372, 732, 1458, 2910, 5760], "11": [49.5, 90, 174, 336, 660, 1302, 2592, 5040, 10440]}
# extra time SBEMimage waits after cycle time when acquiring a frame (read only); sem_control
delay_after_cycle_time = 0.1
# default detector to be selected at startup
default_detector =

[vp]
# True if Variable Pressure (Low Vacuum) option installed
installed = False

[stage]
# This section includes parameters for the microtome stage ('microtome_'), the SEM stage ('sem_'), and other device-specific parameters
# stage limits of the microtome (= limits of XY motors in micrometres), [min_x, max_x, min_y, max_y]; microtome_control
microtome_stage_limits = [-1000, 1000, -800, 800]
# microtome stage calibration parameters, dict keys are high voltages in V, [scale_x, scale_y, rotation_x (rad), rotation_y (rad); coordinate_system
microtome_calibration_params = {"1500": [1.0000, 1.0000, 0.7000, 0.7000]}
# speeds of microtome XY stage motors in microns/second, [speed_x, speed_y]; microtome_control
microtome_motor_speed = [40.0, 40.0]
# Z range of the microtome in micrometres, [min_z, max_z]; microtome_control (read only)
microtome_z_range = [0, 600]
# XY motor tolerance in microns (microtome stage)
microtome_xy_tolerance = 0.040
# Z motor tolerance in microns (microtome stage)
microtome_z_tolerance = 0.004
# total number of microtome stage moves, total distance (in microns), and total move duration (in s) [[X_moves, X_dist, X_duration], [Y_moves, Y_dist, Y_duration], [Z_moves, Z_dist]] carried out since the last reset
microtome_xyz_move_counter = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
# total number of failed microtome XYZ moves (failed to reach target position within specified tolerance)
microtome_failed_xyz_move_counter = [0, 0, 0]
# total number of 'slow' microtome XY move warnings (motors moved slower than expected, but reached target position)
microtome_slow_xy_move_counter = 0
# True if periodic maintenance moves are enabled for microtome stage
microtome_use_maintenance_moves = True
# Interval (in number of total XY moves) at which microtome maintenance moves are carried out
microtome_maintenance_move_interval = 5000 
# katana microtome retract clearance in nanometres; microtome_control
katana_retract_clearance = 100000
# stage limits of the SEM (= limits of the XY motors in micrometres), [min_x, max_x, min_y, max_y]; sem_control (read only)
sem_stage_limits = [0, 130000, 0, 130000]
# SEM stage calibration parameters, dict keys are high voltages in V, [scale_x, scale_y, rotation_x (rad), rotation_y (rad); coordinate_system
sem_calibration_params = {"1500": [-1.0, 1.0, 0, 0]}
# speeds of SEM XY stage motors in microns/second, [speed_x, speed_y]; sem_control (read only)
sem_motor_speed = [100, 100]
# Z range of the SEM stage in micrometres, [min_z, max_z]; sem_control (currently not used)
sem_z_range = [0, 50000]
# XY motor tolerance in microns (SEM stage)
sem_xy_tolerance = 0.040
# Z motor tolerance in microns (SEM stage)
sem_z_tolerance = 0.004
# total number of SEM stage moves, total distance (in microns), and total move duration (in s) [[X_moves, X_dist, X_duration], [Y_moves, Y_dist, Y_duration], [Z_moves, Z_dist]] carried out since the last reset
sem_xyz_move_counter = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
# total number of failed SEM stage moves (failed to reach target position within specified tolerance)
sem_failed_xyz_move_counter = [0, 0, 0]
# total number of 'slow' SEM XY motor move warnings (motors moved slower than expected, but reached target position)
sem_slow_xy_move_counter = 0
# True if periodic maintenance moves are enabled for SEM stage
sem_use_maintenance_moves = False
# Interval (in number of total XY moves) at which maintenance moves are carried out on the SEM stage
sem_maintenance_move_interval = 5000 

[knife]
# duration of a full cut cycle (near, cut, retract, clear) in seconds; microtome_control
full_cut_duration = 16
# Z distance sample is retracted during a sweep, in nanometres: microtome_control (currently read only)
sweep_distance = 70
# katana microtome clear position in nanometres; microtome_control
katana_clear_position = 4000

[plc]
# True if plasma cleaner ('plc'; = downstream asher) installed, currently only ibss GV10x supported; main_controls (read only)
installed = False
# serial port used by plasma cleaner; main_controls (read only), launches plasma_cleaner
com_port = COM5

[email]
# email account used for remote monitoring and commands (password is provided by user at runtime, not stored anywhere); notifications (read only)
account = account_name@server.ch
# SMTP server for the email account above; notifications (read only)
smtp_server = smtp.server.ch
# IMAP server for the email account above; notifications (read only)
imap_server = imap.server.ch

[metaserver]
# URL of the server to which metadata is being sent while an acquisition is running (for example, VIME Server); notifications
url = https://remote.server.ch
# email of the administrator of the metadata server (for alerts and remote control); notifications
admin_email = account_name@server.ch